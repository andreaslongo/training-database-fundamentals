<!doctype html><html lang=de class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.82.0"><meta name=description content="Grundlagen und Praxis für IT-Experten"><meta name=author content="Andreas Longo"><link rel=icon href=/images/favicon.png type=image/png><title>Regeln (Constraints) :: Einstieg Datenbanken</title><link href=/css/nucleus.css?1616620048 rel=stylesheet><link href=/css/fontawesome-all.min.css?1616620048 rel=stylesheet><link href=/css/hybrid.css?1616620048 rel=stylesheet><link href=/css/featherlight.min.css?1616620048 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1616620048 rel=stylesheet><link href=/css/auto-complete.css?1616620048 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1616620048 rel=stylesheet><link href=/css/theme.css?1616620048 rel=stylesheet><link href=/css/tabs.css?1616620048 rel=stylesheet><link href=/css/hugo-theme.css?1616620048 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1616620048></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}:not(pre)>code+span.copy-to-clipboard{display:none}</style></head><body data-url=/6-advanced-concepts/constraints/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=/><p style=color:#fff;font-size:25px>{ <i class="fas fa-database"></i> } <b>Datenbanken</b></p></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Suchen...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1616620048></script><script type=text/javascript src=/js/auto-complete.js?1616620048></script><script type=text/javascript>var baseurl="https://training.andreaslongo.com"</script><script type=text/javascript src=/js/search.js?1616620048></script></div><div class=highlightable><ul class=topics><li data-nav-id=/1-start/ title=Start class=dd-item><a href=/1-start/>Start
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/1-start/welcome/ title=Willkommen class=dd-item><a href=/1-start/welcome/>Willkommen
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-start/requirements/ title="Was du benötigst" class=dd-item><a href=/1-start/requirements/>Was du benötigst
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/2-databases/ title=Datenbanken class=dd-item><a href=/2-databases/><b>1. </b>Datenbanken
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/2-databases/databases/ title="Was sind Datenbanken?" class=dd-item><a href=/2-databases/databases/>Was sind Datenbanken?
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/2-databases/database-system/ title="Das Datenbanksystem" class=dd-item><a href=/2-databases/database-system/>Das Datenbanksystem
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/2-databases/flat-file-database/ title="Flatfile Datenbank" class=dd-item><a href=/2-databases/flat-file-database/>Flatfile Datenbank
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/2-databases/hierarchical-databases/ title="Hierarchische Datenbank" class=dd-item><a href=/2-databases/hierarchical-databases/>Hierarchische Datenbank
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/2-databases/relational-databases/ title="Relationale Datenbank" class=dd-item><a href=/2-databases/relational-databases/>Relationale Datenbank
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/2-databases/normalization/ title=Normalisierung class=dd-item><a href=/2-databases/normalization/>Normalisierung
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/2-databases/calculation/ title="Berechnung von Werten" class=dd-item><a href=/2-databases/calculation/>Berechnung von Werten
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/2-databases/datatypes-and-rules/ title="Datentypen und Regeln" class=dd-item><a href=/2-databases/datatypes-and-rules/>Datentypen und Regeln
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/3-database-server/ title="Datenbank Server" class=dd-item><a href=/3-database-server/><b>2. </b>Datenbank Server
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/3-database-server/database-server/ title="Der Datenbankserver" class=dd-item><a href=/3-database-server/database-server/>Der Datenbankserver
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-database-server/sql-managment-studio/ title="SQL Management Studio" class=dd-item><a href=/3-database-server/sql-managment-studio/>SQL Management Studio
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-database-server/import-database/ title="Eine Datenbank hinzufügen" class=dd-item><a href=/3-database-server/import-database/>Eine Datenbank hinzufügen
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-database-server/create-database/ title="Eine neue Datenbank erstellen" class=dd-item><a href=/3-database-server/create-database/>Eine neue Datenbank erstellen
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-database-server/create-table/ title="Eine Tabelle erstellen" class=dd-item><a href=/3-database-server/create-table/>Eine Tabelle erstellen
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-database-server/modify-table/ title="Tabelle anpassen" class=dd-item><a href=/3-database-server/modify-table/>Tabelle anpassen
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-database-server/drop-database/ title="Datenbank löschen" class=dd-item><a href=/3-database-server/drop-database/>Datenbank löschen
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-database-server/views/ title="Datenbank Views" class=dd-item><a href=/3-database-server/views/>Datenbank Views
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-database-server/system-databases/ title="Die System Datenbanken" class=dd-item><a href=/3-database-server/system-databases/>Die System Datenbanken
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-database-server/challenge/ title=Aufgabe class=dd-item><a href=/3-database-server/challenge/>Aufgabe
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-database-server/solution/ title=Lösung class=dd-item><a href=/3-database-server/solution/>Lösung
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/4-sql-language/ title="Die SQL Sprache" class=dd-item><a href=/4-sql-language/><b>3. </b>Die SQL Sprache
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/4-sql-language/sql-language/ title="Was ist SQL?" class=dd-item><a href=/4-sql-language/sql-language/>Was ist SQL?
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-sql-language/create/ title="Der CREATE Befehl" class=dd-item><a href=/4-sql-language/create/>Der CREATE Befehl
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-sql-language/use/ title="Der USE Befehl" class=dd-item><a href=/4-sql-language/use/>Der USE Befehl
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-sql-language/alter/ title="Der ALTER Befehl" class=dd-item><a href=/4-sql-language/alter/>Der ALTER Befehl
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-sql-language/drop/ title="Der DROP Befehl" class=dd-item><a href=/4-sql-language/drop/>Der DROP Befehl
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-sql-language/truncate/ title="Der TRUNCATE Befehl" class=dd-item><a href=/4-sql-language/truncate/>Der TRUNCATE Befehl
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-sql-language/challenge/ title=Aufgabe class=dd-item><a href=/4-sql-language/challenge/>Aufgabe
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-sql-language/solution/ title=Lösung class=dd-item><a href=/4-sql-language/solution/>Lösung
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-more-sql/ title="Mehr SQL" class=dd-item><a href=/5-more-sql/><b>4. </b>Mehr SQL
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-more-sql/transactions/ title=Transaktionen class=dd-item><a href=/5-more-sql/transactions/>Transaktionen
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-more-sql/select/ title="Der SELECT Befehl" class=dd-item><a href=/5-more-sql/select/>Der SELECT Befehl
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-more-sql/insert/ title="Der INSERT Befehl" class=dd-item><a href=/5-more-sql/insert/>Der INSERT Befehl
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-more-sql/update/ title="Der UPDATE Befehl" class=dd-item><a href=/5-more-sql/update/>Der UPDATE Befehl
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-more-sql/delete/ title="Der DELETE Befehl" class=dd-item><a href=/5-more-sql/delete/>Der DELETE Befehl
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-more-sql/merge/ title="Der MERGE Befehl" class=dd-item><a href=/5-more-sql/merge/>Der MERGE Befehl
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-more-sql/challenge/ title=Aufgabe class=dd-item><a href=/5-more-sql/challenge/>Aufgabe
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-more-sql/solution/ title=Lösung class=dd-item><a href=/5-more-sql/solution/>Lösung
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/6-advanced-concepts/ title="Fortgeschrittene Konzepte" class="dd-item
parent"><a href=/6-advanced-concepts/><b>5. </b>Fortgeschrittene Konzepte
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/6-advanced-concepts/relationships/ title=Beziehungen class=dd-item><a href=/6-advanced-concepts/relationships/>Beziehungen
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/6-advanced-concepts/constraints/ title="Regeln (Constraints)" class="dd-item active"><a href=/6-advanced-concepts/constraints/>Regeln (Constraints)
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/6-advanced-concepts/indexes/ title=Indizes class=dd-item><a href=/6-advanced-concepts/indexes/>Indizes
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/6-advanced-concepts/naming-conventions/ title=Namenskonventionen class=dd-item><a href=/6-advanced-concepts/naming-conventions/>Namenskonventionen
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/6-advanced-concepts/schemas/ title=Schemas class=dd-item><a href=/6-advanced-concepts/schemas/>Schemas
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/7-end/ title=Ende class=dd-item><a href=/7-end/>Ende
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/7-end/next-steps/ title="Wie geht es weiter?" class=dd-item><a href=/7-end/next-steps/>Wie geht es weiter?
<i class="fas fa-check read-icon"></i></a></li></ul></li></ul><section id=shortcuts><h3></h3><ul><li><a class=padding href=https://training.andreaslongo.com/glossary><i class="fas fa-fw fa-book-open"></i> Begriffe</a></li><li><a class=padding href=https://github.com/andreaslongo/training-database-fundamentals/tree/main/static/examples><i class="fas fa-fw fa-code"></i> Beispiele</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Verlauf löschen</a></li></ul></section><section id=footer><p><a href=https://www.andreaslongo.com><i class="far fa-copyright"></i> Andreas Longo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/>Einstieg Datenbanken</a> > <a href=/6-advanced-concepts/>Fortgeschrittene Konzepte</a> > Regeln (Constraints)</span></div><div class=progress><div class=wrapper><nav id=TableOfContents></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Regeln (Constraints)</h1><div class=paragraph><p>Wenn wir Regeln für Spalten unserer Tabellen festlegen, können wir sicherstellen, dass die Daten in unseren Tabellen immer so gespeichert werden, wie wir es vorgeben.</p></div><div class=paragraph><p>In SQL Server können wir sogenannte <strong>Constraints</strong> festlegen.</p></div><div class=sect1><h2 id=_eine_constraint_festlegen>Eine Constraint festlegen</h2><div class=sectionbody><div class=paragraph><p>Wir möchten nun für unsere Tabelle <code>Bestellungen</code> festlegen, dass das <code>Bestelldatum</code> entweder der aktuelle Tag sein muss, oder in der Vergangenheit liegt.</p></div><div class=paragraph><p>Damit stellen wir sicher, dass in einer Bestellung nicht fälschlicherweise ein Datum aus der Zukunft eingetragen ist.
Wir können schließlich nicht vorhersehen, an welchem zukünftigen Tag jemand eine Bestellung tätigt.</p></div><div class=paragraph><p>Öffne im Management Studio die Tabelle <code>Bestellungen</code>.
Klicke mit der rechten Maustaste auf den Bereich <code>Constraints</code> und wähle <code>New Constraint…​</code>
Es öffnet sich ein neues Fenster in dem wir eine neue Constraint eintragen.</p></div><div class=paragraph><p>Unter dem Punkt <code>Expression</code> tragen wir nun folgendes ein: <code>Datum ⇐ GETDATE()</code>.
Das bedeutet, in unserer Tabelle <code>Bestellungen</code> dürfen in die Spalte <code>Datum</code> nur Werte eingetragen werden, die kleiner sind als das Ergebnis von <code>GETDATE()</code>.
<code>GETDATE()</code> ist eine Funktion, die beim Aufruf immer das aktuelle Datum als Ergebnis zurückgibt.</p></div><div class=paragraph><p>Wir ändern nun noch den Namen der Constraint beim Punkt Identity (Name) auf: <code>CK_Bestellungen_Datum</code>, damit wir später genau wissen, wofür die Constraint gedacht ist.</p></div><div class=paragraph><p>Speichere nun deine Änderungen.
Du siehst jetzt die neue Constraint unter dem Punkt <code>Constraints</code> deiner Tabelle.</p></div><div class=paragraph><p>Teste nun dein Constraint indem du versuchst einen Wert in der Spalte <code>Datum</code> deiner Tabelle zu ändern.</p></div></div></div><div class=sect1><h2 id=_einen_unique_index_festlegen>Einen Unique Index festlegen</h2><div class=sectionbody><div class=paragraph><p>Mit einem <strong>Unique Index</strong> kannst du festlegen, dass alle Werte in einer Spalte <strong>einzigartig</strong> sein müssen.
Es dürfen also keine doppelten Einträge gemacht werden.</p></div><div class=paragraph><p>Wir möchten nun in unserer Tabelle <code>Mitarbeiter</code> festlegen, dass in der Spalte <code>Email</code> keine doppelten Email Adressen eingetragen werden dürfen.
Dazu legen wir einen sogenannten <strong>Unique Index</strong> an.</p></div><div class=paragraph><p>Öffne nun im Management Studio den <code>Designer</code> für die Tabelle <code>Mitarbeiter</code>.
Klicke mit der rechten Maustaste auf eine freie Fläche des Designers und wähle <code>Indexes/Keys…​</code> aus.
Es öffnet sich ein neues Fenster in dem wir Keys und Indizes konfigurieren können.</p></div><div class=paragraph><p>Wir sehen dort schon einen Eintrag <code>PK_Mitarbeiter</code>.
Das ist unser früher festgelegte <strong>Primary Key</strong> auf der Spalte <code>MitarbeiterID</code>.</p></div><div class=paragraph><p>Wir fügen nun mit <code>Add</code> einen neuen Index hinzu.
Unter dem Punkt <code>(General)</code> ändern wir den Wert von <code>Is Unique</code> auf <code>Yes</code>.
Bei <code>Columns</code> tragen wir die Spalte <code>Email</code> ein.
Ändern noch den Namen des Indexes beim Punkt <code>Identity (Name)</code> auf: <code>UIX_Mitarbeiter_Email</code>, damit du ihn später wiederfindest.</p></div><div class=paragraph><p>Schließe nun die Fenster und speichere die Einstellungen der Tabelle.
Du siehst jetzt unter dem Punkt <code>Indexes</code> deiner Tabelle einen neuen Unique Index.</p></div><div class=paragraph><p>Durch den Unique Index erlaubt es das Datenbanksystem nun nicht mehr, dass zwei Mitarbeiter dieselbe Email Adresse haben.</p></div></div></div><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/6-advanced-concepts/relationships/ title=Beziehungen><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/6-advanced-concepts/indexes/ title=Indizes style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1616620048></script><script src=/js/perfect-scrollbar.min.js?1616620048></script><script src=/js/perfect-scrollbar.jquery.min.js?1616620048></script><script src=/js/jquery.sticky.js?1616620048></script><script src=/js/featherlight.min.js?1616620048></script><script src=/js/highlight.pack.js?1616620048></script><script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1616620048></script><script src=/js/learn.js?1616620048></script><script src=/js/hugo-learn.js?1616620048></script><script src=/mermaid/mermaid.js?1616620048></script><script>mermaid.initialize({startOnLoad:!0})</script></body></html>